{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useRef, useState } from \"react\";\nimport { reqResApi } from \"../api/RequestResponse\";\nexport const useUsuarios = () => {\n  _s();\n  const [users, setUsers] = useState([]);\n  const paginaRef = useRef(1);\n  useEffect(() => {\n    // API call\n    loadUsers();\n  }, []);\n  const loadUsers = async (page = 1) => {\n    const response = await reqResApi.get('/users', {\n      params: {\n        page: paginaRef.current\n      }\n    });\n    if (response.data.data.length > 0) {\n      setUsers(response.data.data);\n      console.log('Pagina %d', paginaRef.current);\n      console.log(response.data.data);\n      paginaRef.current++;\n    } else {\n      alert('No hay mas registros');\n    }\n  };\n  return {\n    users,\n    loadUsers\n  };\n};\n_s(useUsuarios, \"PzdRlTk69Dnje8s3rVFyeXxFZrc=\");","map":{"version":3,"names":["useEffect","useRef","useState","reqResApi","useUsuarios","_s","users","setUsers","paginaRef","loadUsers","page","response","get","params","current","data","length","console","log","alert"],"sources":["/Users/manuelsalinas/Desktop/React-Native/02-reforzamiento-hooks/src/hooks/useUsuarios.tsx"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\"\nimport { User, UserListResponse } from '../interfaces/ReqRes';\nimport { reqResApi } from \"../api/RequestResponse\";\n\nexport const useUsuarios = () => {\n\n    const [users, setUsers] = useState<User[]>([]);\n    const paginaRef = useRef(1);\n\n    useEffect(() => {\n        // API call\n        loadUsers();   \n    }, []) \n\n    const loadUsers = async(page: number = 1) => {\n        const response = await reqResApi.get<UserListResponse>('/users', {\n            params: {\n                page: paginaRef.current\n            }\n        })\n\n        if (response.data.data.length > 0) {\n            setUsers(response.data.data);\n            \n            console.log('Pagina %d', paginaRef.current)\n            console.log(response.data.data );\n\n            paginaRef.current ++;\n\n        } else {\n            alert('No hay mas registros');\n        }\n    }\n\n    return {\n        users,\n        loadUsers\n    }\n}\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAEnD,SAASC,SAAS,QAAQ,wBAAwB;AAElD,OAAO,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAE7B,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGL,QAAQ,CAAS,EAAE,CAAC;EAC9C,MAAMM,SAAS,GAAGP,MAAM,CAAC,CAAC,CAAC;EAE3BD,SAAS,CAAC,MAAM;IACZ;IACAS,SAAS,CAAC,CAAC;EACf,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMA,SAAS,GAAG,MAAAA,CAAMC,IAAY,GAAG,CAAC,KAAK;IACzC,MAAMC,QAAQ,GAAG,MAAMR,SAAS,CAACS,GAAG,CAAmB,QAAQ,EAAE;MAC7DC,MAAM,EAAE;QACJH,IAAI,EAAEF,SAAS,CAACM;MACpB;IACJ,CAAC,CAAC;IAEF,IAAIH,QAAQ,CAACI,IAAI,CAACA,IAAI,CAACC,MAAM,GAAG,CAAC,EAAE;MAC/BT,QAAQ,CAACI,QAAQ,CAACI,IAAI,CAACA,IAAI,CAAC;MAE5BE,OAAO,CAACC,GAAG,CAAC,WAAW,EAAEV,SAAS,CAACM,OAAO,CAAC;MAC3CG,OAAO,CAACC,GAAG,CAACP,QAAQ,CAACI,IAAI,CAACA,IAAK,CAAC;MAEhCP,SAAS,CAACM,OAAO,EAAG;IAExB,CAAC,MAAM;MACHK,KAAK,CAAC,sBAAsB,CAAC;IACjC;EACJ,CAAC;EAED,OAAO;IACHb,KAAK;IACLG;EACJ,CAAC;AACL,CAAC;AAAAJ,EAAA,CAlCYD,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}