{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useRef, useState } from \"react\";\nimport { reqResApi } from \"../api/RequestResponse\";\nexport const useUsuarios = () => {\n  _s();\n  const [users, setUsers] = useState([]);\n  const paginaRef = useRef(1);\n  const totalPaginasRef = useRef(0);\n  useEffect(() => {\n    // API call\n    loadUsers();\n  }, []);\n  const loadUsers = async () => {\n    const response = await reqResApi.get('/users', {\n      params: {\n        page: paginaRef.current\n      }\n    });\n    totalPaginasRef.current = response.data.total_pages;\n    if (response.data.data.length > 0) {\n      setUsers(response.data.data);\n      console.log('Pagina %d', paginaRef.current);\n      console.log(response.data.data);\n    } else {\n      alert('No hay mas registros');\n    }\n  };\n  const loadNextPage = () => {\n    loadUsers();\n    paginaRef.current++;\n  };\n  const loadPreviousPage = () => {\n    loadUsers();\n    paginaRef.current--;\n  };\n  return {\n    users,\n    loadPreviousPage,\n    loadNextPage\n  };\n};\n_s(useUsuarios, \"AsgzX4KFn48j94r2ymeGrxxWQyo=\");","map":{"version":3,"names":["useEffect","useRef","useState","reqResApi","useUsuarios","_s","users","setUsers","paginaRef","totalPaginasRef","loadUsers","response","get","params","page","current","data","total_pages","length","console","log","alert","loadNextPage","loadPreviousPage"],"sources":["/Users/manuelsalinas/Desktop/React-Native/02-reforzamiento-hooks/src/hooks/useUsuarios.tsx"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\"\nimport { User, UserListResponse } from '../interfaces/ReqRes';\nimport { reqResApi } from \"../api/RequestResponse\";\n\nexport const useUsuarios = () => {\n\n    const [users, setUsers] = useState<User[]>([]);\n    const paginaRef = useRef(1);\n    const totalPaginasRef = useRef(0);\n\n    useEffect(() => {\n        // API call\n        loadUsers();   \n    }, []) \n\n    const loadUsers = async() => {\n        const response = await reqResApi.get<UserListResponse>('/users', {\n            params: {\n                page: paginaRef.current\n            }\n        })\n\n        totalPaginasRef.current = response.data.total_pages;\n        \n\n        if (response.data.data.length > 0) {\n            setUsers(response.data.data);\n            \n            console.log('Pagina %d', paginaRef.current);\n            console.log(response.data.data );\n        } else {\n            alert('No hay mas registros');\n        }\n    }\n\n    const loadNextPage = () => {\n        loadUsers()\n        paginaRef.current ++;\n\n    }\n\n    const loadPreviousPage = () => {\n        loadUsers()\n        paginaRef.current --;\n    }\n\n    return {\n        users,\n        loadPreviousPage,\n        loadNextPage\n    }\n}\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAEnD,SAASC,SAAS,QAAQ,wBAAwB;AAElD,OAAO,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAE7B,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGL,QAAQ,CAAS,EAAE,CAAC;EAC9C,MAAMM,SAAS,GAAGP,MAAM,CAAC,CAAC,CAAC;EAC3B,MAAMQ,eAAe,GAAGR,MAAM,CAAC,CAAC,CAAC;EAEjCD,SAAS,CAAC,MAAM;IACZ;IACAU,SAAS,CAAC,CAAC;EACf,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMA,SAAS,GAAG,MAAAA,CAAA,KAAW;IACzB,MAAMC,QAAQ,GAAG,MAAMR,SAAS,CAACS,GAAG,CAAmB,QAAQ,EAAE;MAC7DC,MAAM,EAAE;QACJC,IAAI,EAAEN,SAAS,CAACO;MACpB;IACJ,CAAC,CAAC;IAEFN,eAAe,CAACM,OAAO,GAAGJ,QAAQ,CAACK,IAAI,CAACC,WAAW;IAGnD,IAAIN,QAAQ,CAACK,IAAI,CAACA,IAAI,CAACE,MAAM,GAAG,CAAC,EAAE;MAC/BX,QAAQ,CAACI,QAAQ,CAACK,IAAI,CAACA,IAAI,CAAC;MAE5BG,OAAO,CAACC,GAAG,CAAC,WAAW,EAAEZ,SAAS,CAACO,OAAO,CAAC;MAC3CI,OAAO,CAACC,GAAG,CAACT,QAAQ,CAACK,IAAI,CAACA,IAAK,CAAC;IACpC,CAAC,MAAM;MACHK,KAAK,CAAC,sBAAsB,CAAC;IACjC;EACJ,CAAC;EAED,MAAMC,YAAY,GAAGA,CAAA,KAAM;IACvBZ,SAAS,CAAC,CAAC;IACXF,SAAS,CAACO,OAAO,EAAG;EAExB,CAAC;EAED,MAAMQ,gBAAgB,GAAGA,CAAA,KAAM;IAC3Bb,SAAS,CAAC,CAAC;IACXF,SAAS,CAACO,OAAO,EAAG;EACxB,CAAC;EAED,OAAO;IACHT,KAAK;IACLiB,gBAAgB;IAChBD;EACJ,CAAC;AACL,CAAC;AAAAjB,EAAA,CA/CYD,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}