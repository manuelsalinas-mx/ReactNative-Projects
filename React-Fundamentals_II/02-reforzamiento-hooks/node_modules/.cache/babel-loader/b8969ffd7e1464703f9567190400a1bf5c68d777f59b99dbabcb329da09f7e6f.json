{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useRef, useState } from \"react\";\nimport { reqResApi } from \"../api/RequestResponse\";\nexport const useUsuarios = () => {\n  _s();\n  const [users, setUsers] = useState([]);\n  const paginaRef = useRef(1);\n  const totalPaginasRef = useRef(0);\n  useEffect(() => {\n    // API call\n    loadUsers();\n  }, []);\n  const loadUsers = async () => {\n    const response = await reqResApi.get('/users', {\n      params: {\n        page: paginaRef.current\n      }\n    });\n    totalPaginasRef.current = response.data.total_pages;\n    if (response.data.data.length > 0) {\n      setUsers(response.data.data);\n      console.log('Pagina %d', paginaRef.current);\n      console.log(response.data.data);\n    } else {\n      alert('No hay mas registros');\n    }\n  };\n  const loadNextPage = () => {\n    if (paginaRef.current < totalPaginasRef.current) {\n      paginaRef.current++;\n      loadUsers();\n    } else {\n      console.log('Ya no puedes cargar mas');\n    }\n  };\n  const loadPreviousPage = () => {\n    if (paginaRef.current > 1) {\n      paginaRef.current--;\n      loadUsers();\n    } else {\n      console.log('Ya no puedes cargar menos');\n    }\n  };\n  return {\n    users,\n    loadPreviousPage,\n    loadNextPage\n  };\n};\n_s(useUsuarios, \"AsgzX4KFn48j94r2ymeGrxxWQyo=\");","map":{"version":3,"names":["useEffect","useRef","useState","reqResApi","useUsuarios","_s","users","setUsers","paginaRef","totalPaginasRef","loadUsers","response","get","params","page","current","data","total_pages","length","console","log","alert","loadNextPage","loadPreviousPage"],"sources":["/Users/manuelsalinas/Desktop/React-Native/02-reforzamiento-hooks/src/hooks/useUsuarios.tsx"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\"\nimport { User, UserListResponse } from '../interfaces/ReqRes';\nimport { reqResApi } from \"../api/RequestResponse\";\n\nexport const useUsuarios = () => {\n\n    const [users, setUsers] = useState<User[]>([]);\n    const paginaRef = useRef(1);\n    const totalPaginasRef = useRef(0);\n\n    useEffect(() => {\n        // API call\n        loadUsers();   \n    }, []) \n\n    const loadUsers = async() => {\n        const response = await reqResApi.get<UserListResponse>('/users', {\n            params: {\n                page: paginaRef.current\n            }\n        })\n\n        totalPaginasRef.current = response.data.total_pages;\n        \n\n        if (response.data.data.length > 0) {\n            setUsers(response.data.data);\n            \n            console.log('Pagina %d', paginaRef.current);\n            console.log(response.data.data );\n        } else {\n            alert('No hay mas registros');\n        }\n    }\n\n    const loadNextPage = () => {\n        if (paginaRef.current < totalPaginasRef.current) {\n            paginaRef.current ++;\n            loadUsers()\n        } else {\n            console.log('Ya no puedes cargar mas');\n\n        }\n    }\n\n    const loadPreviousPage = () => {\n        if (paginaRef.current > 1) {\n            paginaRef.current --;\n            loadUsers()\n        } else {\n            console.log('Ya no puedes cargar menos');\n        }\n    }\n\n    return {\n        users,\n        loadPreviousPage,\n        loadNextPage\n    }\n}\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAEnD,SAASC,SAAS,QAAQ,wBAAwB;AAElD,OAAO,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAE7B,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGL,QAAQ,CAAS,EAAE,CAAC;EAC9C,MAAMM,SAAS,GAAGP,MAAM,CAAC,CAAC,CAAC;EAC3B,MAAMQ,eAAe,GAAGR,MAAM,CAAC,CAAC,CAAC;EAEjCD,SAAS,CAAC,MAAM;IACZ;IACAU,SAAS,CAAC,CAAC;EACf,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMA,SAAS,GAAG,MAAAA,CAAA,KAAW;IACzB,MAAMC,QAAQ,GAAG,MAAMR,SAAS,CAACS,GAAG,CAAmB,QAAQ,EAAE;MAC7DC,MAAM,EAAE;QACJC,IAAI,EAAEN,SAAS,CAACO;MACpB;IACJ,CAAC,CAAC;IAEFN,eAAe,CAACM,OAAO,GAAGJ,QAAQ,CAACK,IAAI,CAACC,WAAW;IAGnD,IAAIN,QAAQ,CAACK,IAAI,CAACA,IAAI,CAACE,MAAM,GAAG,CAAC,EAAE;MAC/BX,QAAQ,CAACI,QAAQ,CAACK,IAAI,CAACA,IAAI,CAAC;MAE5BG,OAAO,CAACC,GAAG,CAAC,WAAW,EAAEZ,SAAS,CAACO,OAAO,CAAC;MAC3CI,OAAO,CAACC,GAAG,CAACT,QAAQ,CAACK,IAAI,CAACA,IAAK,CAAC;IACpC,CAAC,MAAM;MACHK,KAAK,CAAC,sBAAsB,CAAC;IACjC;EACJ,CAAC;EAED,MAAMC,YAAY,GAAGA,CAAA,KAAM;IACvB,IAAId,SAAS,CAACO,OAAO,GAAGN,eAAe,CAACM,OAAO,EAAE;MAC7CP,SAAS,CAACO,OAAO,EAAG;MACpBL,SAAS,CAAC,CAAC;IACf,CAAC,MAAM;MACHS,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAC;IAE1C;EACJ,CAAC;EAED,MAAMG,gBAAgB,GAAGA,CAAA,KAAM;IAC3B,IAAIf,SAAS,CAACO,OAAO,GAAG,CAAC,EAAE;MACvBP,SAAS,CAACO,OAAO,EAAG;MACpBL,SAAS,CAAC,CAAC;IACf,CAAC,MAAM;MACHS,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAC;IAC5C;EACJ,CAAC;EAED,OAAO;IACHd,KAAK;IACLiB,gBAAgB;IAChBD;EACJ,CAAC;AACL,CAAC;AAAAjB,EAAA,CAvDYD,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}